{"ast":null,"code":"var _jsxFileName = \"/Users/manishkumar/Documents/Project/Frontend/src/components/AuthWrapper.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Login from './Login';\nimport Signup from './Signup';\nimport HomePage from './HomePage';\nimport Gallery from './Gallery';\nimport UploadPage from './UploadPage';\nimport MusicUploadPage from './MusicUploadPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthWrapperContainer = styled.div`\n  min-height: 100vh;\n`;\n_c = AuthWrapperContainer;\nconst AuthWrapper = () => {\n  _s();\n  const location = useLocation();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n  useEffect(() => {\n    // Check if user is already logged in\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        localStorage.removeItem('user');\n      }\n    }\n  }, []);\n  const handleLoginSuccess = user => {\n    setCurrentUser(user);\n    setIsAuthenticated(true);\n  };\n  const handleSignupSuccess = user => {\n    // After successful signup, switch to login\n    setShowLogin(true);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setShowLogin(true);\n  };\n  const switchToSignup = () => {\n    setShowLogin(false);\n  };\n  const switchToLogin = () => {\n    setShowLogin(true);\n  };\n  if (isAuthenticated) {\n    // Render different components based on the current route\n    switch (location.pathname) {\n      case '/gallery':\n        return /*#__PURE__*/_jsxDEV(AuthWrapperContainer, {\n          children: /*#__PURE__*/_jsxDEV(Gallery, {\n            currentUser: currentUser,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this);\n      case '/upload':\n        return /*#__PURE__*/_jsxDEV(AuthWrapperContainer, {\n          children: /*#__PURE__*/_jsxDEV(UploadPage, {\n            currentUser: currentUser,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this);\n      case '/upload/music':\n        return /*#__PURE__*/_jsxDEV(AuthWrapperContainer, {\n          children: /*#__PURE__*/_jsxDEV(MusicUploadPage, {\n            currentUser: currentUser,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(AuthWrapperContainer, {\n          children: /*#__PURE__*/_jsxDEV(HomePage, {\n            currentUser: currentUser,\n            onLogout: handleLogout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(AuthWrapperContainer, {\n    children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      mode: \"wait\",\n      children: showLogin ? /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: -50\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        exit: {\n          opacity: 0,\n          x: 50\n        },\n        transition: {\n          duration: 0.3\n        },\n        children: /*#__PURE__*/_jsxDEV(Login, {\n          onLoginSuccess: handleLoginSuccess,\n          onSwitchToSignup: switchToSignup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, \"login\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 50\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        exit: {\n          opacity: 0,\n          x: -50\n        },\n        transition: {\n          duration: 0.3\n        },\n        children: /*#__PURE__*/_jsxDEV(Signup, {\n          onSignupSuccess: handleSignupSuccess,\n          onSwitchToLogin: switchToLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, \"signup\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthWrapper, \"q2Wl9blztWfxNnvvZKt5vMnEqjY=\", false, function () {\n  return [useLocation];\n});\n_c2 = AuthWrapper;\nexport default AuthWrapper;\nvar _c, _c2;\n$RefreshReg$(_c, \"AuthWrapperContainer\");\n$RefreshReg$(_c2, \"AuthWrapper\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","styled","motion","AnimatePresence","Login","Signup","HomePage","Gallery","UploadPage","MusicUploadPage","jsxDEV","_jsxDEV","AuthWrapperContainer","div","_c","AuthWrapper","_s","location","isAuthenticated","setIsAuthenticated","currentUser","setCurrentUser","showLogin","setShowLogin","savedUser","localStorage","getItem","user","JSON","parse","error","removeItem","handleLoginSuccess","handleSignupSuccess","handleLogout","switchToSignup","switchToLogin","pathname","children","onLogout","fileName","_jsxFileName","lineNumber","columnNumber","mode","initial","opacity","x","animate","exit","transition","duration","onLoginSuccess","onSwitchToSignup","onSignupSuccess","onSwitchToLogin","_c2","$RefreshReg$"],"sources":["/Users/manishkumar/Documents/Project/Frontend/src/components/AuthWrapper.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Login from './Login';\nimport Signup from './Signup';\nimport HomePage from './HomePage';\nimport Gallery from './Gallery';\nimport UploadPage from './UploadPage';\nimport MusicUploadPage from './MusicUploadPage';\n\nconst AuthWrapperContainer = styled.div`\n  min-height: 100vh;\n`;\n\nconst AuthWrapper = () => {\n  const location = useLocation();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n\n  useEffect(() => {\n    // Check if user is already logged in\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        localStorage.removeItem('user');\n      }\n    }\n  }, []);\n\n  const handleLoginSuccess = (user) => {\n    setCurrentUser(user);\n    setIsAuthenticated(true);\n  };\n\n  const handleSignupSuccess = (user) => {\n    // After successful signup, switch to login\n    setShowLogin(true);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setShowLogin(true);\n  };\n\n  const switchToSignup = () => {\n    setShowLogin(false);\n  };\n\n  const switchToLogin = () => {\n    setShowLogin(true);\n  };\n\n  if (isAuthenticated) {\n    // Render different components based on the current route\n    switch (location.pathname) {\n      case '/gallery':\n        return (\n          <AuthWrapperContainer>\n            <Gallery currentUser={currentUser} onLogout={handleLogout} />\n          </AuthWrapperContainer>\n        );\n      case '/upload':\n        return (\n          <AuthWrapperContainer>\n            <UploadPage currentUser={currentUser} onLogout={handleLogout} />\n          </AuthWrapperContainer>\n        );\n      case '/upload/music':\n        return (\n          <AuthWrapperContainer>\n            <MusicUploadPage currentUser={currentUser} onLogout={handleLogout} />\n          </AuthWrapperContainer>\n        );\n      default:\n        return (\n          <AuthWrapperContainer>\n            <HomePage currentUser={currentUser} onLogout={handleLogout} />\n          </AuthWrapperContainer>\n        );\n    }\n  }\n\n  return (\n    <AuthWrapperContainer>\n      <AnimatePresence mode=\"wait\">\n        {showLogin ? (\n          <motion.div\n            key=\"login\"\n            initial={{ opacity: 0, x: -50 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: 50 }}\n            transition={{ duration: 0.3 }}\n          >\n            <Login \n              onLoginSuccess={handleLoginSuccess}\n              onSwitchToSignup={switchToSignup}\n            />\n          </motion.div>\n        ) : (\n          <motion.div\n            key=\"signup\"\n            initial={{ opacity: 0, x: 50 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -50 }}\n            transition={{ duration: 0.3 }}\n          >\n            <Signup \n              onSignupSuccess={handleSignupSuccess}\n              onSwitchToLogin={switchToLogin}\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </AuthWrapperContainer>\n  );\n};\n\nexport default AuthWrapper; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}